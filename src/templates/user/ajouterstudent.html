{% extends 'base.html' %}

{% load static %}
{% load crispy_forms_tags %}

{% block contenu %}
<title>Add Student</title>
{% endblock contenu %}

{% block content %}
    <div class="main-content">
        <header>
            <h1>Ajouter un Élève</h1>
            <a href="{% url 'student:index' %}">
                <button>Retour</button>
            </a>
        </header>

        <div class="form-container">
            <h2>Formulaire Ajout elèves</h2>
            <form id="add-student-form" action="" method="post">
                {% csrf_token %}
                {{ form | crispy }}
                <!-- <div class="form-group">
                    <label for="name">Nom</label>
                    <input type="text" id="name" name="name" required>
                </div>
                <div class="form-group">
                    <label for="surname">Prénom</label>
                    <input type="text" id="surname" name="surname" required>
                </div>
                <div class="form-group">
                    <label for="gender">Genre</label>
                    <select id="gender" name="gender" required>
                        <option value="">Sélectionnez...</option>
                        <option value="male">Homme</option>
                        <option value="female">Femme</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="matricule">Matricule</label>
                    <input type="text" id="matricule" name="matricule" required>
                </div>
                <div class="form-group">
                    <label for="dob">Date de naissance</label>
                    <input type="date" id="dob" name="dob" required>
                </div>
                <div class="form-group">
                    <label for="class">Classe</label>
                    <input type="text" id="class" name="class" required>
                </div>
                <div class="form-group">
                    <label for="phone">Téléphone</label>
                    <input type="tel" id="phone" name="phone" required>
                </div>
                <div class="form-group">
                    <label for="city">Ville</label>
                    <input type="text" id="city" name="city" required>
                </div> -->
                <div class="form-actions">
                    <button type="submit" class="save-button">Enregistrer</button>
                    <button type="button" class="cancel-button" onclick="cancel()">Annuler</button>
                </div>
                <div class="form-message" id="form-message"></div>
            </form>
        </div>
    </div>

    <!-- <script>
        document.getElementById('add-student-form').addEventListener('submit', function(event) {
            event.preventDefault();
            
            const name = document.getElementById('name').value;
            const surname = document.getElementById('surname').value;
            const gender = document.getElementById('gender').value;
            const matricule = document.getElementById('matricule').value;
            const dob = document.getElementById('dob').value;
            const className = document.getElementById('class').value;
            const phone = document.getElementById('phone').value;
            const city = document.getElementById('city').value;

            if (!name || !surname || !gender || !matricule || !dob || !className || !phone || !city) {
                document.getElementById('form-message').textContent = 'Veuillez remplir tous les champs.';
                return;
            }
            
            document.getElementById('form-message').textContent = '';
            alert('Élève ajouté avec succès !');
            document.getElementById('add-student-form').reset();
        });

        function cancel() {
            if (confirm('Êtes-vous sûr de vouloir annuler ? Les modifications non enregistrées seront perdues.')) {
                document.getElementById('add-student-form').reset();
                document.getElementById('form-message').textContent = '';
            }
        }

        function logout() {
            alert('Déconnexion réussie.');
        }
    </script> -->
    {% endblock content %}
